{% extends 'base.html' %}
{% block content %}
<div class="container py-4">
  <h2 class="mb-4">{{ 'Edit Resume' if resume else 'Build Resume' }}</h2>
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      {% for category, message in messages %}
        <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      {% endfor %}
    {% endif %}
  {% endwith %}
  <form method="post">
    <div class="mb-3">
      <label class="form-label">Title <span class="text-danger">*</span></label>
      <input type="text" name="title" class="form-control" required value="{{ resume.title if resume else '' }}">
    </div>
    <div class="mb-3">
      <label class="form-label">Summary <span class="text-danger">*</span></label>
      <textarea name="summary" class="form-control" rows="2" required>{{ resume.summary if resume else '' }}</textarea>
    </div>
    <div class="mb-3">
      <label class="form-label">Education <span class="text-danger">*</span></label>
      <textarea name="education" class="form-control" rows="2" required>{{ resume.education if resume else '' }}</textarea>
    </div>
    <div class="mb-3">
      <label class="form-label">Experience <span class="text-danger">*</span></label>
      <textarea name="experience" class="form-control" rows="2" required>{{ resume.experience if resume else '' }}</textarea>
    </div>
    <div class="mb-3">
      <label class="form-label">Skills <span class="text-danger">*</span></label>
      <textarea name="skills" class="form-control" rows="2" required>{{ resume.skills if resume else '' }}</textarea>
    </div>
    <div class="mb-3">
      <label class="form-label">Projects</label>
      <textarea name="projects" class="form-control" rows="2">{{ resume.projects if resume else '' }}</textarea>
    </div>
    <div class="mb-3">
      <label class="form-label">Certifications</label>
      <textarea name="certifications" class="form-control" rows="2">{{ resume.certifications if resume else '' }}</textarea>
    </div>
    <div class="mb-3">
      <label class="form-label">Contact Info <span class="text-danger">*</span></label>
      <textarea name="contact_info" class="form-control" rows="2" required>{{ resume.contact_info if resume else '' }}</textarea>
    </div>
    <button type="submit" class="btn btn-primary">{{ 'Update Resume' if resume else 'Create Resume' }}</button>
    <a href="{{ url_for('my_resumes') }}" class="btn btn-secondary ms-2">Back to My Resumes</a>
  </form>
</div>
{% endblock %} 