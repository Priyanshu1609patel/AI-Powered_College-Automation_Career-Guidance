{% extends 'base.html' %}
{% block title %}Interview Prep - Career Guidance AI{% endblock %}
{% block content %}
<div class="page-wrapper">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="stat-card">
                <div class="d-flex align-items-center mb-4">
                    <div class="stat-icon me-3" style="background: var(--accent);">
                        <i class="bi bi-question-circle"></i>
                    </div>
                    <div>
                        <h3 class="fw-bold mb-0" style="color: var(--dark);">Interview Preparation</h3>
                        <span class="badge" style="background: var(--primary); color: #fff;">{{ career_title }}</span>
                    </div>
                </div>

                {% if job %}
                <div class="p-3 rounded-3 mb-3" style="background: rgba(67,97,238,0.05);">
                    <i class="bi bi-building me-1" style="color: var(--primary);"></i><strong>{{ job.company }}</strong> | <i class="bi bi-geo-alt me-1"></i>{{ job.location }}
                </div>
                {% endif %}

                <h5 class="fw-bold mb-3" style="color: var(--dark);"><i class="bi bi-chat-square-text me-2"></i>Common Interview Questions</h5>
                <div class="accordion mb-4" id="qaAccordion">
                    {% for qa in questions %}
                    <div class="accordion-item border-0 mb-2">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed py-2 px-3 rounded-3" style="font-size: 0.9rem; background: rgba(67,97,238,0.04);" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{ loop.index }}">
                                <span class="badge me-2" style="background: var(--primary);">Q{{ loop.index }}</span>{{ qa.q }}
                            </button>
                        </h2>
                        <div id="collapse{{ loop.index }}" class="accordion-collapse collapse" data-bs-parent="#qaAccordion">
                            <div class="accordion-body py-2 px-3" style="font-size: 0.9rem;">
                                <strong style="color: var(--success);">Sample Answer:</strong> {{ qa.a }}
                            </div>
                        </div>
                    </div>
                    {% else %}
                    <p class="text-muted">No questions available for this role.</p>
                    {% endfor %}
                </div>

                <h5 class="fw-bold mb-3" style="color: var(--dark);"><i class="bi bi-lightbulb me-2" style="color: var(--warning);"></i>Tips for Success</h5>
                <div class="p-3 rounded-3" style="background: rgba(255,209,102,0.08);">
                    <ul class="mb-0">
                        {% for tip in tips %}
                        <li class="mb-1">{{ tip }}</li>
                        {% else %}
                        <li class="text-muted">No tips available for this role.</li>
                        {% endfor %}
                    </ul>
                </div>

                <button class="btn btn-career-outline w-100 mt-4" onclick="window.history.back()">
                    <i class="bi bi-arrow-left me-2"></i>Back
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}
